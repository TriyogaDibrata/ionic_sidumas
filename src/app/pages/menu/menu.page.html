<ion-split-pane>

  <ion-menu contentId="content">
    <ion-header>
      <ion-toolbar color="theme" class="user-profile" no-padding>
        <ion-menu-toggle>
          <ion-item margin-bottom margin-top lines="none" *ngIf="user != undefined" (click)="goToEditProgile()">
            <ion-avatar slot="start" *ngIf="user.avatar == null" class="user-avatar">
              <img src="assets/img/user.png">
            </ion-avatar>
            <ion-avatar slot="start" *ngIf="user.avatar != null" class="user-avatar">
              <img [src]="user.avatar">
            </ion-avatar>
            <ion-label>
              <ion-text color="light" *ngIf="user.name">
                <h1><strong>{{ user.name }}</strong></h1>
              </ion-text>
              <ion-text color="light" *ngIf="user.email">
                <h3>
                  {{ user.email }}
                </h3>
              </ion-text>
            </ion-label>
          </ion-item>
        </ion-menu-toggle>

      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-list>
        <ion-menu-toggle auto-hide="false" *ngFor="let p of pages">
          <ion-item [routerLink]="[p.page]" routerLinkActive="active-item">
            <ion-icon slot="start" [name]="p.icon"></ion-icon>
            <ion-label>
              {{p.title}}
            </ion-label>
          </ion-item>
        </ion-menu-toggle>

        <!--others-->
        <div *ngIf="user != undefined && user.tipe == 0">
          <ion-item-divider margin-top>
            <!-- <ion-icon name="contacts" slot="start"></ion-icon> -->
            <ion-text>Layanan Lainnya</ion-text>
          </ion-item-divider>

          <ion-menu-toggle auto-hide="false">
            <ion-item (click)="emergencyCall()">
              <ion-icon name="call" slot="start"></ion-icon>
              <ion-label>
                Panggilan Gawat Darurat 112
              </ion-label>
            </ion-item>
          </ion-menu-toggle>
        </div>
      </ion-list>
    </ion-content>

    <!-- footer -->
    <ion-footer>
      <ion-list>
        <ion-menu-toggle auto-hide="false">
          <ion-item (click)="logout()">
            <ion-icon name="log-out" slot="start"></ion-icon>
            <ion-label>
              Logout
            </ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-footer>

  </ion-menu>
  <ion-router-outlet id="content" main></ion-router-outlet>

</ion-split-pane>